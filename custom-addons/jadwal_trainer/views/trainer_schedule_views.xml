<odoo>
    <data>
        <record id="action_open_trainer_schedule_recurrence_wizard" model="ir.actions.act_window">
            <field name="name">Make Schedule Recurrent</field>
            <field name="res_model">trainer.schedule.recurrence.wizard</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
            <field name="context">{
                'default_schedule_id': active_id,
            }</field>
        </record>

        <record id="trainer_schedule_view_form" model="ir.ui.view">
            <field name="name">trainer.schedule.form</field>
            <field name="model">trainer.schedule</field>
            <field name="arch" type="xml">
                <form string="Detail Pertemuan">
                    <sheet>
                        <group>
                            <field name="student_id"/>
                            <field name="trainer_id"/>
                            <field name="date" string="Tanggal &amp; Jam Pertemuan"/>
                        </group>
                        <group>
                            <field name="notes" placeholder="Tulis catatan pertemuan di sini..."/>
                            <field name="meeting_number"/>
                            <field name="class_type"/>
                            <field name="is_recurrent" invisible="1"/>
                            <button name="%(action_open_trainer_schedule_recurrence_wizard)d"
                                    type="action"
                                    string="Make Recurrent"
                                    class="oe_highlight"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="trainer_schedule_view_tree" model="ir.ui.view">
            <field name="name">trainer.schedule.tree</field>
            <field name="model">trainer.schedule</field>
            <field name="arch" type="xml">
                <tree string="Jadwal Pertemuan" default_order="date desc">
                    <field name="date"/>
                    <field name="student_id"/>
                    <field name="trainer_id"/>
                    <field name="notes"/>
                    <field name="meeting_number"/>
                    <field name="class_type"/>
                </tree>
            </field>
        </record>

        <record id="action_open_trainer_schedule_wizard_from_calendar" model="ir.actions.act_window">
            <field name="name">Buat Jadwal Baru</field>
            <field name="res_model">trainer.schedule.reccurence.wizard</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
            <field name="context">{'default_date': active_start}</field>
        </record>

        <record id="trainer_schedule_view_calendar" model="ir.ui.view">
            <field name="name">trainer.schedule.calendar</field>
            <field name="model">trainer.schedule</field>
            <field name="arch" type="xml">
                <calendar string="Jadwal Pertemuan"
                          date_start="date"
                          date_stop="date"
                          color="student_id"
                          mode="month"
                          event_open_popup="false">
                    <field name="student_id" string="Siswa"/>
                    <field name="notes"/>
                </calendar>
            </field>
        </record>

        <record id="trainer_schedule_action" model="ir.actions.act_window">
            <field name="name">Jadwal Pertemuan</field>
            <field name="res_model">trainer.schedule</field>
            <field name="view_mode">calendar,pivot,tree,form</field>
            <field name="context">{'search_default_group_by_student': 1}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Belum ada jadwal pertemuan.
                </p><p>
                    Klik pada tanggal di kalender untuk membuat jadwal baru.
                    Gunakan tampilan Pivot (Grid) untuk melihat ringkasan jadwal per siswa.
                </p>
            </field>
        </record>

        <record id="action_open_trainer_schedule_recurrence_wizard" model="ir.actions.act_window">
            <field name="name">Make Schedule Recurrent</field>
            <field name="res_model">trainer.schedule.recurrence.wizard</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
            <field name="context">{
                'default_schedule_id': active_id,
            }</field>
        </record>

        <menuitem id="trainer_schedule_menu_root"
            name="Jadwal Trainer"
            sequence="10"/>

        <menuitem id="trainer_schedule_menu_main"
            name="Jadwal Pertemuan"
            parent="trainer_schedule_menu_root"
            action="trainer_schedule_action"
            sequence="1"/>

        <menuitem id="trainer_schedule_menu_config"
            name="Konfigurasi"
            parent="trainer_schedule_menu_root"
            sequence="100"/>

    </data>
</odoo>
