<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="res_config_settings_view_form_inherit_whatsapp" model="ir.ui.view">
        <field name="name">res.config.settings.view.form.inherit.whatsapp</field>
        <field name="model">res.config.settings</field>
        <field name="inherit_id" ref="base_setup.res_config_settings_view_form"/>
        <field name="arch" type="xml">

            <xpath expr="//setting[@id='mail_templates_setting']" position="after">

                <setting id="whatsapp_setting"
                         string="WhatsApp Integration"
                         help="Pengaturan koneksi WhatsApp API">

                    <div class="content-group">
                        <div class="mt16">
                            <field name="whatsapp_base_url"/>
                            <label for="whatsapp_base_url"/>
                            <div class="text-muted">
                                URL dasar WAHA API (contoh: http://localhost:3000)
                            </div>
                        </div>

                        <div class="mt16">
                            <field name="whatsapp_api_key" password="True"/>
                            <label for="whatsapp_api_key"/>
                            <div class="text-muted">
                                API Key untuk autentikasi WAHA
                            </div>
                             <button name="action_test_connection"
                                    string="Test Connection"
                                    type="object"
                                    class="oe_link"/>
                        </div>
                    </div>

                </setting>

            </xpath>

        </field>
    </record>

</odoo>
